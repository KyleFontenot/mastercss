import RuntimeRenderingIntro from '../../rendering-modes/components/RuntimeRenderingIntro.mdx'

<RuntimeRenderingIntro img={{
    href: "https://astro.rr.rc.css.master.co",
    ...require('~/public/images/astro-dev.png').default,
    alt: 'Astro and Master CSS',
    width: 665, height: 400 }} />

---

## Quick start
<StepSection>
    <Step $row>
        <StepL>
            ### <StepNum />Clone the example
            Copy-paste the commands to quickly start using the https://astro.rr.rc.css.master.co example.

            You can skip all [installation](#installation) steps.
        </StepL>
        <StepR>
            ```bash name=Terminal
            npm create @master/css@rc __project__ --example astro-with-runtime-rendering
            cd __project__
            npm install
            npm run dev
            ```
        </StepR>
        <StepEnd/>
    </Step>
</StepSection>

---

## Installation
<StepSection>
    <Step $row>
        <StepL>
            ### <StepNum />Create a project
            If you don't have a Astro project, create one first. It's recommended to refer to [Getting Started - Astro](https://docs.astro.build/en/getting-started).
        </StepL>
        <StepR>
            ```bash name=Terminal
            npm create astro@latest __project__
            cd __project__
            ```
        </StepR>
    </Step>
    <Step $row>
        <StepL>
            ### <StepNum />Initialize configuration file
            Run `npm create @master/css@rc` to create a configuration file [master.css.ts](/docs/configuration).
        </StepL>
        <StepR>
            ```bash name=Terminal
            npm create @master/css@rc
            ```
        </StepR>
    </Step>
    <Step $row>
        <StepL>
            ### <StepNum />Install Master CSS
            Install Master CSS into your project via package managers.
        </StepL>
        <StepR>
            ```install
            **@master/css-runtime@rc**
            ```
        </StepR>
    </Step>
    <Step $row>
        <StepL>
            ### <StepNum />Set up CSS runtime engine
            Modify `src/layouts/Layout.astro`:
            - Import your custom configuration `master.css.ts`
            - Initialize the runtime engine
            - Add `css display: none` to `html <html>` to [avoid FOUC](/docs/flash-of-unstyled-content)
        </StepL>
        <StepR>
            ```html name=src/layouts/Layout.astro
            <html style="**display: none**">
                <head>
                    …
            +        <script>
            +            import { initCSSRuntime } from "@master/css";
            +            import config from "../../master.css";

            +            initCSSRuntime(config);
            +        </script>
                </head>
                …
            <html>
            ```
        </StepR>
    </Step>
    <Step $row>
        <StepL>
            ### <StepNum />Launch server
            Run `npm run dev` to start your Astro development server
        </StepL>
        <StepR>
            ```bash name=Terminal
            npm run dev
            ```
        </StepR>
    </Step>
    <Step>
        ### <StepNum />Start using Master CSS
        Now style your first element using Master CSS syntax!
        ```html name=src/pages/index.astro
        ---
        import Layout from '../layouts/Layout.astro';
        ---
        <Layout title="Welcome to Astro.">
            <main>
                <h1 class="**font:40** **font:heavy** **italic** **m:12x** **text:center**">Hello World</h1>
            </main>
        </Layout>
        ```
        <p className="mt:12x">Open your browser to watch the changes.</p>
        <HelloWorld url="localhost:3000" />
    </Step>
</StepSection>